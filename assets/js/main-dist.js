"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}}(),AddressBookModel=function(){function t(){_classCallCheck(this,t),this._contactsData=[{fname:"Anbu",lname:"Arasan",phone:"190-309-6101",email:"anbu.arasan@email.com"},{fname:"Arivu",lname:"Mugilan",phone:"490-701-7102",email:"arivu.mugilan@email.com"},{fname:"Bob",lname:"Johnson",phone:"574-909-3948",email:"bob.johnson@email.com"},{fname:"Raja",lname:"Tamil",phone:"090-909-0101",email:"raja.tamil@email.com"},{fname:"Sundar",lname:"Kannan",phone:"090-909-0101",email:"sundar.kannan@email.com"}]}return _createClass(t,[{key:"getContacts",value:function(){return this._contactsData}},{key:"getContact",value:function(t){return this._contactsData[t]}},{key:"addContact",value:function(t){this._contactsData.push(t)}}]),t}(),AddressBookView=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"init",value:function(){this.renderContactListModule(),this.renderContactDetailModule(0),this.addContactModule()}},{key:"renderContactListModule",value:function(){var e=this,t=addressBookApp.getContacts(),n=document.getElementById("contact-list");n.innerHTML="";for(var a=0,o=t.length;a<o;a++){var i=document.createElement("li");i.setAttribute("class","contact-list-item"),i.setAttribute("data-index",a),i.innerHTML=t[a].fname+","+t[a].lname,i.addEventListener("click",function(t){e.renderContactDetailModule(t)}),n.append(i)}}},{key:"renderContactDetailModule",value:function(t){var e=null;"object"===(void 0===t?"undefined":_typeof(t))?(t.preventDefault(),e=t.currentTarget.getAttribute("data-index")):e=t;var n=addressBookApp.getContact(e);document.getElementById("contact-item-details").innerHTML=n.fname+"<br>"+n.phone+"<br>"+n.email,this.hightlightCurrentListItem(e)}},{key:"hightlightCurrentListItem",value:function(t){var e=document.getElementsByClassName("contact-list-item"),n=!0,a=!1,o=void 0;try{for(var i,r=e[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){i.value.classList.remove("active")}}catch(t){a=!0,o=t}finally{try{!n&&r.return&&r.return()}finally{if(a)throw o}}e[t].classList.add("active")}},{key:"addContactModule",value:function(){var t=this;document.getElementById("add-contact-btn").addEventListener("click",function(){t.addContactBtnClicked()})}},{key:"addContactBtnClicked",value:function(){var t=document.getElementsByClassName("add-contact-input"),e={},n=!0,a=!1,o=void 0;try{for(var i,r=t[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var l=i.value,s=l.getAttribute("data-key"),c=l.value;e[s]=c}}catch(t){a=!0,o=t}finally{try{!n&&r.return&&r.return()}finally{if(a)throw o}}addressBookApp.addContact(e),this.renderContactListModule()}}]),t}(),addressBookView=new AddressBookView,AddressBookCtrl=function(){function e(t){_classCallCheck(this,e),this.addressBookModel=new AddressBookModel,this.addressBookView=t}return _createClass(e,[{key:"init",value:function(){this.addressBookView.init()}},{key:"getContacts",value:function(){return this.addressBookModel.getContacts()}},{key:"getContact",value:function(t){return this.addressBookModel.getContact(t)}},{key:"addContact",value:function(t){this.addressBookModel.addContact(t)}}]),e}(),addressBookApp=new AddressBookCtrl(addressBookView);addressBookApp.init();